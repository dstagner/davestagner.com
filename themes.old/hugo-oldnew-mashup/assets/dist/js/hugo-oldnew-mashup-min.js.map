{"version":3,"sources":["styling-helper.js","js-cookie/src/js.cookie.js"],"names":["createCookie","style","fontZoom","siteDomain","Cookies","set","expires","domain","readCookie","get","handleStyle","link","foundStyle","styleTitle","doGetParam","arguments","length","undefined","handlePreferred","newStyle","links","document","head","getElementsByTagName","i","getAttribute","indexOf","disabled","localeCompare","setFontSizeOnResize","documentElement","maxWidth","minFont","maxFont","baseWidth","offsetWidth","setWidth","fontBase","Math","log","calculateFontSize","setCurrentStyle","styleName","doOnResize","doOnLoad","styleParts","cookieParts","getPageStyle","SITE_DOMAIN","doOnUnload","window","addEventListener","onload","onunload","onresize","factory","registeredInModuleLoader","define","amd","exports","_typeof","module","OldCookies","api","noConflict","extend","result","attributes","key","init","converter","value","path","defaults","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","this","json","charAt","name","read","parse","call","getJSON","apply","remove","withConverter"],"mappings":"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","file":"hugo-oldnew-mashup-min.js","sourcesContent":["/* jshint undef: true, unused: true, esversion: 6, globalstrict: true */\n/* globals SITE_DOMAIN: false, Cookies: false, window: false, document: false */\n// ---- JSHint linter settings\n\n/*!  Copyright (C) 2007,2017 Daniel F. Dickinson <thecshore.thecshore.com>\n *    Released under the MIT License\n */\n\n//    Script to set, save and restore stylesheet choice for site\n//    and to create smooth font resizing based on browser window size\n\n// The information used to write this script comes from\n//   http://www.alistapart.com/articles/alternate, however I wrote the script\n//   myself.\n//\n(function () {\n  function createCookie(style, fontZoom, siteDomain) {\n    if (style) {\n    /* Use same setting if site viewed within two weeks from now */\n      Cookies.set(\"cshore-style-helper-style\", style, { \"expires\": 14, \"domain\": siteDomain });\n    }\n    if (fontZoom) {\n      Cookies.set(\"cshore-style-helper-fontZoom\", fontZoom, { \"expires\": 14, \"domain\": siteDomain });\n    }\n  }\n\n  function readCookie() {\n    var cookiePairs = {\n      \"style\": Cookies.get(\"cshore-style-helper-style\"),\n      \"fontZoom\": Cookies.get(\"cshore-style-helper-fontZoom\")\n    };\n\n    return cookiePairs;\n  }\n\n  // If link is a stylesheet link, get it's title and return it, otherwise return\n  //   empty string to indicate no stylesheet title is present\n  function getStyleFromLink(link) {\n    var foundStyle;\n    var styleTitle;\n\n    if (!link) {\n      return \"\";\n    }\n    // Don't bork if no 'rel' attribute\n    if (link.getAttribute(\"rel\")) {\n      // is link a stylesheet link?\n      foundStyle = link.getAttribute(\"rel\").indexOf(\"style\");\n    } else {\n    // No style because no 'rel' attribute\n      foundStyle = -1;\n    }\n\n    // title of link\n    styleTitle = link.getAttribute(\"title\");\n\n    // is a style and has a title?\n    if (styleTitle && (foundStyle != -1)) {\n      return styleTitle;\n    } else {\n      return \"\";\n    }\n  }\n\n  // Determine current style name's title (if any)\n  // NB: of the set of 'stylesheet' and 'alternate stylesheet'\n  //   with a title attribute, we only allow one to be active\n  //   at a time.\n  function handleStyle(doGetParam = true, handlePreferred = false, newStyle = \"Default\") {\n    var link;\n    var style;\n    var foundStyle = \"\";\n\n    var links = document.head.getElementsByTagName(\"link\");\n    // iterate through set of link elements\n    style = \"\";\n    for (var i= 0; (typeof (link = links[i]) != \"undefined\"); i++) {\n      style = getStyleFromLink(link);\n      // if the link is a style with a title\n      if (style) {\n        // if style is enabled\n        if (!link.disabled) {\n          // If we're getting the preferred style and this not an alternate stylesheet,\n          //   return the style\n          if (doGetParam && handlePreferred && (link.getAttribute(\"rel\").indexOf(\"alt\") == -1)) {\n            return style;\n            // If we're getting rather than setting, and we just want the active style\n          } else if (doGetParam && !handlePreferred) {\n            // return the active style\n            return style;\n            // if we are wanting to set a style and this isn't it\n          } else if (!doGetParam && style.localeCompare(newStyle)) {\n            // disable this style\n            link.disabled = true;\n          }\n          // If we're setting the style and the style title matches desired title\n        } else if (!doGetParam && (style.localeCompare(newStyle) == 0)) {\n          // set link as active\n          link.disabled = false;\n          foundStyle = true;\n        }\n      }\n    }\n\n    if (!doGetParam) {\n    // If we were able to set the style return the style,\n    // otherwise return \"Default\"\n      return foundStyle ? newStyle : \"Default\";\n    } else {\n    // Getting but didn't find an active stylesheet with title\n      return \"Default\";\n    }\n  }\n\n  // Function to calcuate  the root font size for html element so that\n  // all other proportionally defined fonts will be scaled accordingly.\n  // The idea is to have a smoothly scaling font size as number of pixels gets\n  // larger.\n\n  // This is on the assumption higher resolutions mean more dpi; sadly there is\n  // no good way to find dpi in javascript and/or with CSS in present browser\n  // implementations; many solutions have been proposed, but none are consistently\n  // successful across platforms (and Windows 10 is particularly bad at reporting\n  // a useful DPI) as of 2017-04-18 23:59:00 -0400\n\n  // fontZoom is a constant multiplier (e.g. 1.6 = 160%) for zoom\n  function calculateFontSize(fontZoom) {\n    // Some magic numbers that worked for me.\n    // It is basically intuitive approach involving trial and error.\n    // The basic idea was to shift and apply constants multipliers\n    // to a natural logarithmic scale to get the scaling to 'play nicely'.\n    // (Meaning that at small pixel counts font size changes are fast relative\n    // to pixel count but deaccelerate as pixel counts go up (but still end up\n    // being larger increments on larger displays due to the larger initial value).\n    var maxWidth = 999999;\n    var minWidth = 1;\n    var fontRatio = 1;\n    var fontLogScale = 8;\n    var fontLogOffset = 105536;\n    var fontScale = 109;\n    var fontScaleOffset = -11.448;\n\n    // This is the desired font range in css pixels (which are sadly not actually\n    // device-independent even though they were supposed to be\n    // Note that this only affects cutoff, to get the range to work as desired, you\n    // will need to play with the magic numbers.\n    var minFont = 16;\n    var maxFont = 32;\n\n    minFont = minFont * fontZoom;\n    maxFont = maxFont * fontZoom;\n\n    var baseWidth = document.documentElement.offsetWidth;\n    var setWidth = baseWidth > maxWidth ? maxWidth : baseWidth < minWidth ? minWidth : baseWidth;\n    var fontBase = ((Math.log(fontLogOffset + fontLogScale * (setWidth / fontRatio))) + fontScaleOffset) * fontScale * fontZoom;\n    var fontSize = (fontBase > maxFont ? maxFont : fontBase < minFont ? minFont : fontBase) + \"px\";\n    return fontSize;\n  }\n\n  // Function to set the root font size inline (on the html element), thus causing\n  // all other proportionally defined fonts to be scaled accordingly.\n  // The idea is to have a smoothly scaling font size as number of pixels gets\n  // larger.\n\n  // This concept was borrowed from Flow.js.\n  // https://github.com/simplefocus/FlowType.JS/blob/master/flowtype.js\n  // but implemented using completely different code.\n  // In that case the goal was actually to maintain 45-75 words on a page based\n  // the theory this is typographically optimal.\n\n  // fontZoom is a constant multiplier (e.g. 1.6 = 160%) for zoom\n  function setFontSizeOnResize() {\n    var fontZoom = document.documentElement[\"cshore-font-zoom\"];\n\n    if (!fontZoom || fontZoom < 0) {\n      var currentStyle = document.documentElement[\"cshore-current-style\"];\n      switch (currentStyle) {\n      case \"Large Print\":\n      case \"Large Contrast\":\n        fontZoom = 1.6;\n        break;\n      default:\n        fontZoom = 1;\n        break;\n      }\n    }\n    document.documentElement.style[\"font-size\"] = calculateFontSize(fontZoom);\n  }\n\n  function setCurrentStyle(styleName = \"Default\", fontZoom = 1, siteDomain = \"\") {\n    var style = handleStyle(false, false, styleName);\n    if (!fontZoom || fontZoom < 0) {\n      var cookieParts = readCookie();\n      fontZoom = cookieParts.fontZoom;\n      if (!fontZoom || fontZoom < 0) {\n        switch(style) {\n        case \"Large Print\":\n        case \"Large Contrast\":\n          fontZoom = 1.6;\n          break;\n        default:\n          fontZoom = 1;\n          break;\n        }\n      }\n    }\n    document.documentElement[\"cshore-current-style\"] = style;\n    document.documentElement[\"cshore-font-zoom\"] = fontZoom;\n\n    createCookie(style, fontZoom, siteDomain);\n    setFontSizeOnResize();\n  }\n\n  function getPageStyle() {\n    var styleParts = {};\n    var cookieParts = readCookie();\n    var style = cookieParts.style;\n    var fontZoom = cookieParts.fontZoom;\n    if (!style) {\n      style = handleStyle(true, true);\n    }\n    if (!fontZoom || (fontZoom < 0)) {\n      switch(style) {\n      case \"Large Print\":\n      case \"Large Contrast\":\n        fontZoom = 1.6;\n        break;\n      default:\n        fontZoom = 1;\n        break;\n      }\n    }\n    styleParts.style = style;\n    styleParts.fontZoom = fontZoom;\n    return styleParts;\n  }\n\n  function doOnResize() {\n    setFontSizeOnResize();\n    return true;\n  }\n\n  function doOnLoad() {\n    var styleParts = getPageStyle();\n    var siteDomain = \"\";\n    if ((typeof SITE_DOMAIN) !== \"undefined\") {\n      if (SITE_DOMAIN) {\n        siteDomain = SITE_DOMAIN;\n      }\n    }\n    setCurrentStyle(styleParts.style, styleParts.fontZoom, siteDomain);\n    return true;\n  }\n\n  function doOnUnload() {\n    var style = document.documentElement[\"cshore-current-style\"];\n    var fontZoom = document.documentElement[\"cshore-font-zoom\"];\n    var siteDomain = \"\";\n    if ((typeof SITE_DOMAIN) !== \"undefined\") {\n      if (SITE_DOMAIN) {\n        siteDomain = SITE_DOMAIN;\n      }\n    }\n    createCookie(style, fontZoom, siteDomain);\n    return null;\n  }\n\n  window.setCurrentStyle=setCurrentStyle;\n\n  window.addEventListener(\"resize\", doOnResize);\n  window.addEventListener(\"load\", doOnLoad);\n  window.addEventListener(\"unload\", doOnUnload);\n\n  window.onload=doOnLoad;\n  window.onunload=doOnUnload;\n  window.onresize=doOnResize;\n}());\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"]}